<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/firstapp/src/App.vue">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/firstapp/src/App.vue" />
              <option name="originalContent" value="&lt;template&gt;&#10;  &lt;router-view /&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script setup lang=&quot;ts&quot;&gt;&#10;&#10;import { useRouter } from 'vue-router'&#10;import { onBeforeUnmount, onMounted } from 'vue'&#10;&#10;const router = useRouter()&#10;&#10;function onMessage(ev: MessageEvent) {&#10;  // SECURITY: check ev.origin in production&#10;  const msg = ev.data;&#10;  if (!msg || typeof msg.type !== 'string') return;&#10;&#10;  console.log('mf got msg', msg);&#10;&#10;  if (msg.type === 'navigate' &amp;&amp; msg.path) {&#10;    if (router.currentRoute.value.fullPath !== msg.path) {&#10;      // помечаем что следующая смена маршрута инициирована хостом&#10;      ;(window as any).__NAVIGATED_FROM_HOST__ = true;&#10;      router.replace(msg.path).catch(()=&gt;{});&#10;    }&#10;  } else if (msg.type === 'sync-to-mf' &amp;&amp; typeof msg.path === 'string') {&#10;    if (router.currentRoute.value.fullPath !== msg.path) {&#10;      ;(window as any).__NAVIGATED_FROM_HOST__ = true;&#10;      router.replace(msg.path).catch(()=&gt;{});&#10;    }&#10;  }&#10;}&#10;&#10;onMounted(() =&gt; window.addEventListener('message', onMessage));&#10;onBeforeUnmount(() =&gt; window.removeEventListener('message', onMessage));&#10;&#10;&lt;/script&gt;&#10;&lt;style scoped&gt;&lt;/style&gt;&#10;" />
              <option name="updatedContent" value="&lt;template&gt;&#10;  &lt;router-view /&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script setup lang=&quot;ts&quot;&gt;&#10;&#10;import { useRouter } from 'vue-router'&#10;import { onBeforeUnmount, onMounted } from 'vue'&#10;&#10;const router = useRouter()&#10;&#10;function onMessage(ev: MessageEvent) {&#10;  // SECURITY: check ev.origin in production&#10;  const msg = ev.data;&#10;  if (!msg || typeof msg.type !== 'string') return;&#10;&#10;  console.log('mf got msg', msg);&#10;&#10;  if (msg.type === 'navigate' &amp;&amp; msg.path) {&#10;    if (router.currentRoute.value.fullPath !== msg.path) {&#10;      // помечаем что следующая смена маршрута инициирована хостом&#10;      ;(window as any).__NAVIGATED_FROM_HOST__ = true;&#10;      router.replace(msg.path).catch(()=&gt;{});&#10;    }&#10;  } else if (msg.type === 'sync-to-mf' &amp;&amp; typeof msg.path === 'string') {&#10;    if (router.currentRoute.value.fullPath !== msg.path) {&#10;      ;(window as any).__NAVIGATED_FROM_HOST__ = true;&#10;      router.replace(msg.path).catch(()=&gt;{});&#10;    }&#10;  }&#10;}&#10;&#10;onMounted(() =&gt; window.addEventListener('message', onMessage));&#10;onBeforeUnmount(() =&gt; window.removeEventListener('message', onMessage));&#10;&#10;&lt;/script&gt;&#10;&lt;style scoped&gt;&lt;/style&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>