# –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –°–∏—Å—Ç–µ–º–∞

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å Vue 3 –∏ Module Federation –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —É—Å–ª—É–≥.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Host App** (–ø–æ—Ä—Ç 3000) - –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–æ–±–æ–ª–æ—á–∫–∞
- **First App** (–ø–æ—Ä—Ç 3001) - –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–æ–ª–æ—Ç–æ–º  
- **Second App** (–ø–æ—Ä—Ç 3002) - –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞–º–∏

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Vue 3** - Frontend —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Vite** - –ë—ã—Å—Ç—Ä—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Module Federation
- **Vue Router** - –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞–º–∏
- **@originjs/vite-plugin-federation** - –ü–ª–∞–≥–∏–Ω –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–≤
- **Pinia** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **TypeScript** - –¢–∏–ø–∏–∑–∞—Ü–∏—è

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
pnpm install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –∫–∞–∂–¥–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
cd hostapp && pnpm install
cd ../firstapp && pnpm install  
cd ../secondapp && pnpm install
```

### 2. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
npm run dev

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ:
npm run dev:host    # Host App –Ω–∞ –ø–æ—Ä—Ç—É 3000
npm run dev:first   # First App –Ω–∞ –ø–æ—Ä—Ç—É 3001  
npm run dev:second  # Second App –Ω–∞ –ø–æ—Ä—Ç—É 3002
```

### 3. –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º

- **–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://localhost:3000
- **Gold –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost:3001
- **Deposit –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost:3002

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
micro-frontend/
‚îú‚îÄ‚îÄ package.json              # –ö–æ—Ä–Ω–µ–≤–æ–π package.json –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π
‚îú‚îÄ‚îÄ hostapp/                  # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ remote-components.d.ts  # –¢–∏–ø—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HomePage.vue            # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.ts                # –†–æ—É—Ç–µ—Ä —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Module Federation (Consumer)
‚îú‚îÄ‚îÄ firstapp/                 # –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ Gold
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GoldPage.vue            # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–æ–ª–æ—Ç–æ–º
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ GoldTransferPage.vue    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ –∑–æ–ª–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Module Federation (Producer)
‚îî‚îÄ‚îÄ secondapp/                # –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ Deposit
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îî‚îÄ‚îÄ views/
    ‚îÇ       ‚îú‚îÄ‚îÄ DepositPage.vue         # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞–º–∏
    ‚îÇ       ‚îî‚îÄ‚îÄ DepositTransferPage.vue # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤ –¥–µ–ø–æ–∑–∏—Ç–æ–≤
    ‚îî‚îÄ‚îÄ vite.config.ts        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Module Federation (Producer)
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### Host App
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∫ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞–º
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ï–¥–∏–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥ –¥–ª—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–≤

### Gold –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (First App)
- `/gold` - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ä—Ç—Ñ–µ–ª—è –∑–æ–ª–æ—Ç–∞ –∏ —Ç–µ–∫—É—â–∏—Ö —Ü–µ–Ω
- `/gold/transfer` - –¢—Ä–∞–Ω—Å—Ñ–µ—Ä –∑–æ–ª–æ—Ç–∞ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏

### Deposit –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (Second App)  
- `/deposit` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–Ω—ã–º–∏ —Å—á–µ—Ç–∞–º–∏
- `/deposit/transfer` - –¢—Ä–∞–Ω—Å—Ñ–µ—Ä —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É –¥–µ–ø–æ–∑–∏—Ç–∞–º–∏

## –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
npm run build

# –°–±–æ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
npm run build:host
npm run build:first  
npm run build:second

# –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö dist –ø–∞–ø–æ–∫
npm run clean
```

## Module Federation –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Host App (Consumer)
```javascript
federation({
  name: 'host-app',
  remotes: {
    firstApp: 'http://localhost:3001/assets/remoteEntry.js',
    secondApp: 'http://localhost:3002/assets/remoteEntry.js'
  },
  shared: ['vue', 'vue-router', 'pinia']
})
```

### –ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã (Producers)
```javascript
federation({
  name: 'first-app', // –∏–ª–∏ 'second-app'
  filename: 'remoteEntry.js',
  exposes: {
    './GoldPage': './src/views/GoldPage.vue',
    './GoldTransferPage': './src/views/GoldTransferPage.vue'
  },
  shared: ['vue', 'vue-router', 'pinia']
})
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **Shared Dependencies** - Vue, Vue Router –∏ Pinia –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –±—É–Ω–¥–ª–∞
2. **TypeScript Support** - –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript —Å —Ç–∏–ø–∞–º–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **CORS Headers** - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏
4. **Error Handling** - Graceful fallbacks –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–≤
5. **Development & Production** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –æ–±–µ–∏—Ö —Å—Ä–µ–¥

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–Ω–æ:
1. –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `npm run build`
2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–≤–æ–µ–º –¥–æ–º–µ–Ω–µ/–ø–æ–¥–¥–æ–º–µ–Ω–µ
3. –û–±–Ω–æ–≤–∏—Ç—å URL –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ remotes –≤ host app
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö

–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
